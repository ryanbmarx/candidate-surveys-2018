{% from 'subtemplates/_macros.html' import add_candidates as add_candidates with context%}

{% set districts = candidates|get_unique_values("race_district") %}
{# {% set parties = ['democratic', 'republican', 'libertarian', 'green'] %} #}
{% for district in districts %}
	{% set office_name = district|get_ordinal_suffix ~ " district" %}
	{{ add_candidates(office_name, parties, candidates|has_any(['race_district', district], ['race_category', controller.id])) }}
{% endfor %}{# Close districts loop #}